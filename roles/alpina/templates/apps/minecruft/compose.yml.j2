{% import 'contrib/compose_helpers.j2' as helpers with context %}

services:
  minecruft:
    image: itzg/minecraft-server:java17-alpine
    container_name: minecruft
    labels:
      - {{ helpers.traefik_labels('minecruft', port='8100') | indent(6) }}
    ports:
      - 25565:25565
      - 25565:25565/udp
      - 24454:24454/udp
    restart: unless-stopped
    env_file: .env.minecruft
    volumes:
      - {{ base_volume_path }}/minecruft/data:/data
      - {{ base_volume_path }}/minecruft/downloads:/downloads
      - ./config:/config
